import { Link, useSegments } from 'expo-router';
import { Pressable, StyleSheet, Text } from 'react-native';
import Colors from '../constants/Colors';
import { Tables } from '../types';
import RemoteImage from './RemoteImage';

export const imageUSD =
'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRQz_FvW3P03Xodiot14dG_R2R62FjkZG12w&usqp=CAU';
const imageUSDC =
'data:image/png;base64,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';

type AssetListItemProps = {
  asset: Tables<'assets'>;
};

const AssetListItem = ({ asset }: AssetListItemProps) => {
  const segments = useSegments();

  return (
    <Link href={`/${segments[0]}/portfolio/${asset.id}`} asChild>
      <Pressable style={styles.container}>
        <RemoteImage
          path={asset.image}
          fallback={imageUSD}
          style={styles.image}
          resizeMode="contain"
        />

        <Text style={styles.title}>{asset.name} (${asset.price})</Text>
        <Text style={styles.price}>${asset.price}</Text>
      </Pressable>
    </Link>
  );
};

export default AssetListItem;

const styles = StyleSheet.create({
  container: {
    backgroundColor: 'white',
    padding: 10,
    borderRadius: 10,
    flex: 1,
    maxWidth: '100%',
  },

  image: {
    maxHeight: 40,
    width: '100%',
    aspectRatio: 1,
  },

  title: {
    fontSize: 18,
    fontWeight: '600',
    marginVertical: 10,
    alignSelf: 'flex-end',
  },
  price: {
    color: Colors.light.tint,
    fontWeight: 'bold',
    alignSelf: 'flex-end',
    alignItems: 'center' 
  },
});
